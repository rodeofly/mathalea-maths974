---
markmap:
  maxWidth: 500
  initialExpandLevel: 1
---
- *App*
  - **> Start**
    - *Description*
      - Page de démarrage de la partie MathALÉA 
    - **> SideMenu**
      - *Description*
        - Container pour toutes les entrées de chaque référentiel.
        - Arguments
          - `referentiels: ReferentielForList[] ` : tableau des référentiels à lister
          - `isMenuOpen: boolean` : flag pour ouverture/fermeture du menu
          - `sidebarWidth: number` : largeur du panneau
          - `isMenuCloseable : boolean`: flag pour décider si on peut rabattre le panneau ou pas...
      - **> SideMenuList**<a name="sidemenulist"></a>
        - *Description*
          - Container pour lister toutes les entrées d'un référentiel
          - Arguments
            - `ref: ReferentielForList` : référentiel à afficher
            - `moreThanOne: boolean` : flag pour savoir s'il existe plusieurs référentiel (afin de savoir s'il faut afficher le bouton de déploiement ou pas)
            - `isMenuDeployed: boolean` : flag pour savoir si le contenu du référentiel est affiché ou pas
        - **> SearchExercice**
          - *Description*
            - Champ de recherche des exercices d'un menu
            - Arguments
              - `referentiel: objet` : le référentiel dans lequel effectuer les recherches.
          - **> EntreeRecherche**
            - *Description*
              - Affiche une entrée correspondant à un match de'une recherche
              - Argument :
                - `exercice: Map<string, string | Map>` : exercice à afficher
            - **> Filtre**
              - *Description*
                - Permet l'affichage des éléments de sélection des filtres (cases à cocher) et affiche les filtres sélectionnés (chips)
                - Arguments
                  - `isVisible: boolean = false` : flag pour décider de l'affichage du contenu.
              - **> Chip**
                - *Description*
                  - Afficher un élément (mot) sous la forme d'une pastille
                  - Arguments
                    - `isVisible: boolean = true` : flag pour l'affichage
                    - `text: string = ""` : texte du chip
                    - `bgColor` : couleur du fond
                    - `textColor` : couleur du texte
              - [**> Button**](#button-def)
            - [**> Button**](#button-def)
        - **> NiveauListeExos**
          - *Description*
            - Composant récursif pour écrire la liste des exercices disponibles à partir des entrées de l'arbre d'un référentiel convertion d'un fichier JSON
            - Arguments
              - `expanded: boolean` : flag pour savoir si l'entrée est déployée ou pas
              - `levelTitle: string` : titre du niveau
              - `items: any` : les éléments à afficher (soit exercices, soit des sous-niveaux)
              - `pathToThisNode: string[]` : trace du chemin amenant à cette entrée
              - `nestedLevelCount: number` : entier comptabilisant le niveau d'imbrication (pour réglage des retraits gauches dans l'affichage)
              - `indexBase: string` : élément pour unifier les ID des entrées dans le HTML
              - `section: string` : type du référentiel (pour différentier les processus d'affichage)
          - **> EntreeListeExos**
            - *Description*
              - Écrit le nom d'un exercice sur le format : code + titre
              - Arguments
                - `exercice: Map<string, string | Map<string, string>>` : exercice dont on doit afficher le nom
                - `nestedLevelCount: number` : le nombre d'imbrication (pour calculer le retrait gauche)
            - **> NoInteractivityIcon**
              - *Description*
                - SVG de l'icone pour signaler qu'un exercice n'est pas interactif.
          - **> EntreeBibliotheque**
            - *Description*
              - Écrit le nom d'une section de la bibliothèque des exercices statiques.
              - Arguments
                - `pathToThisNode: string[] = []` : chemin des niveaux amenant à l'exercice
                - `section: string`: titre de la section
                - `list: any` list des exercices présents dans la section (ils seront affichés dans un modal specifique)
                - `nestedLevelCount: number` : le nombre d'imbrication (pour calculer le retrait gauche)
        - **> EntreeListeOutils**
          - *Description*
            - Écrit le nom d'une entrée dans le cadre d'un référentiel de type *outil*
            - Argument
              - `outil`: outil dont il faut afficher le nom.
        - **> EntreeListeRessources**
          - *Description*
            - Écrit le nom d'une entrée dans le cadre d'un référentiel de type *ressource*
            - Argument
              - `ressource: Map<'id' | 'url' | 'uuid' | 'titre', string>` : ressource dont il faut afficher le nom
        - **> SideMenuApps**
          - *Description*
            - Bouton spécifique pour les applications tierces (entrées affichées dans un modal spécifique)
    - **> NavBarV2**<a name="navbarv2"></a>
      - *Description*
        - Affiche la barre de navigation supérieure
        - Arguments
          - `title: string = "MathALÉA"` : le titre principale de la barre
          - `subtitle: string = ""` : le sous-titre de la barre
          - `subtitleType: "export" | "design" = "export"` : le type du contexte désigné par le sous-titre
      - **> NavBarV2Subtitle**
        - *Description*
          - Affiche le sous-titre de la barre supérieure
          - Arguments
            - `subtitle: string = ""` : le texte du sous-titre
            - `type: "export" | "design" = "export"` : le type du contexte désigné par le sous-titre
      - [**> Button**](#button-def)
    - **> ChipsList**
      - *Description*
        - Affiche la liste des exercices sélectionnés sous la forme de chips et permet la réorganisation par glisser/déposer.
      - **> ChipExo**
        - Chip spécifique pour afficher un exercice dans la liste des chips réorganisable
        - Arguments
          - `text: string = ''` : titre du chip
          - `indice: number` : position dans la liste
    - **> Exercice**<a name="exercice"></a>
      - *Description*
        - Composant maître pour l'affichage d'un exercice
        - Argument
          - `paramsExercice: InterfaceParams` : paramètres de l'exercices
          - `indiceExercice: number` : position dans la liste des exercices
          - `indiceLastExercice: number` : position du dernier exercice dans la liste
          - `isCorrectionVisible = false` : flag pour afficher la correction
      - **> ExerciceMathalea**
        - *Description*
          - Assure l'affichage d'un exercice de base
          - Arguments
            - `exercice: TypeExercice` : exercice à afficher
            - `indiceExercice: number` : position dans la liste des exercices
            - `indiceLastExercice: number` : position du dernier exercice dans la liste
            - `isCorrectionVisible = false` : flag pour afficher la correction
        - **> HeaderExercice**<a name="header-exercice"></a>
          - *Description*
            - En-tête de l'exercice
            - Arguments
              - `title: string` : titre de l'exercice
              - `id: string` : ID de l'exercice
              - `exercice: TypeExercice` : flag pour savoir si l'exercice est soumis à l'aléatoire
              - `settingsReady: boolean = true` : flag pour savoir si les paramètres sont accessibles à l'affichage
              - `correctionReady: boolean = true` : flag pour savoir si la correction est accessible à l'affichage
              - `correctionExists: boolean = true` : flag pour indiquer si l'exercice est corrigé ou pas
              - `indiceExercice: number` : position dans la liste des exercices
              - `indiceLastExercice: number` : position du dernier exercice dans la liste
              - `isInteractif: boolean = false` : flag pour activer/désactiver l'interactivité de l'exercice
              - `interactifReady: boolean` : flag pour savoir si l'interactivité est accessible à l'affichage
              - `isSortable: boolean = true` : flag pour s'assurer que l'exercice peut être déplacer dans la liste
              - `isDeletable: boolean = true` : flag pour savoir si on peut supprimer l'exercice de la liste
              - `isHidable: boolean = true` : flag pour cacher/révéler l'exercice
          - **> BoutonMonter**<a name="bouton-monter"></a>
            - *Description*
              - Bouton destiné à remonter l'exercice dans la liste des exercices
              - Argument
                - `indice: number` : position courante de l'exercice dans la liste des exercices
          - **> BoutonDescendre**<a name="bouton-descendre"></a>
            - *Description*
              - Bouton destiné à descendre l'exercice dans la liste des exercices
              - Argument
                - `indice: number` : position courante de l'exercice dans la liste des exercices
                - `indiceLastExercice: number` : position du dernier exercice dans la liste
          - [**> TwoStatesIcon**](#twostateicon) as *InteractivityIcon*
        - **> Settings**
          - *Description*
            - Composant regroupant les éléments de réglages de l'exercice
            - Argument
              - `exercice: TypeExercice` : exercice dont on doit modifier les réglages
      - **> ExerciceVueEleve**
        - *Description*
          - Assure l'affichage d'un exercice dans la vue Élève (voir composant [Eleve](#vue-eleve))
          - Arguments
            - `exercice: TypeExercice` : exercice à afficher
            - `indiceExercice: number` : position courante de l'exercice dans la liste des exercices
            - `indiceLastExercice: number` : position du dernier exercice dans la liste
            - `isCorrectionVisible: bollean = false` : flag pour savoir si la correction est accessible ou pas
        - **> HeaderExerciceVueEleve**<a name="header-exercice-eleve"></a>
          - *Description*
            - Assure l'affichage des éléments de réglage d'un exercice
            - Argument
              - `title: string` : titre de l'exercice
              - `indiceExercice: number` : position de l'exercice dans la liste des exercices
              - `showNumber: boolean = true` : flag pour décider de l'affichage du num 'ero de l'exercice
          - [**> BoutonMonter**](#bouton-monter)
          - [**> BoutonDescendre**](#bouton-descendre)
        - [**> TwoStatesIcon**](#twostateicon) as *InteractivityIcon*
      - **> ExerciceStatic**
        - *Description*
          - Assure l'affichage d'un exercice dont les données sont statiques (DNB par exemple).
          - Argument
            - `uuid: string` : identifiant unique de l'exercice
            - `indiceExercice: number` : position de l'exercice dans la liste des exercices
            - `indiceLastExercice: number` : position du dernier exercice dans la liste
        - [**> HeaderExercice**](#header-exercice)
      - **> ExerciceHtml**
        - *Description*
          - Assure l'affichage d'un exercice nécessitant un interaction de l'utilisateur dans le contenu différentes de l'interactivité de MathALÉA (exemples : applications tierce d'Arnaud Durand, chalenge relatif, etc.)
          - Arguments
            - `exercice: TypeExercice` : exercice à afficher
            - `indiceExercice: number` : position courante de l'exercice dans la liste des exercices
            - `indiceLastExercice: number` : position du dernier exercice dans la liste
        - [**> HeaderExercice**](#header-exercice)
        - [**> HeaderExerciceVueEleve**](#header-exercice-eleve)
    - **> Button**<a name="button-def"></a>
      - *Description*
        - Composant permettant de paramétrer un bouton aisément
        - Arguments
          - `title: string = 'Valider'` : titre du bouton (peut-être vide)
          - `isDisabled: boolean = false` : flag permettant de désactiver le bouton
          - `classDeclaration: string = 'p-2 rounded-xl'` : chaîne permettant de formatter le bouton par **TailwindCSS**
          - `icon: string = ''` : icone à ajouter au bouton (aucune par défaut)
          - `idLabel: string = getUniqueStringBasedOnTimeStamp('btn-')` : le texte servant pour l'ID du bouton (tagué par un nombre unique basé sur l'aléatoire et le temps).
          - `inverted: boolean = false` : flag permettant d'inverser la couleur du fond et celle du texte dans le bouton.
    - **> ButtonsDeck**<a name="buttonsdeck"></a>
      - *Description*
        - Regroupe les éléments de contrôle (boutons) de la page entière
        - Arguments
          - `barWidthPercentage: number = 70` : pourcentage permettant de régler la largeur de la barre
          - `exportButtonsList` : liste  icones des boutons pour l'export
          - `setupButtonsList` : liste  icones des boutons pour les réglages
    - **> TwoStatesIcon** as *InteractivityIcon, FullScreenIcon*<a name="twostateicon"></a>
      - *Description*
        - Affiche une icone qui prendra deux états représenté par deux SVGs différents
        - Arguments
          - `isOnStateActive: boolean = false` : flag pour l'état
          - `size: number = 5` : taille de l'icône (basé sur les tailles de **TailwindCSS**)
    - **> LatexIcon**<a name="latexicon"></a>
      - *Description*
        - SVG de l'icone LaTeX
    - **> AmcIcon**<a name="amcicon"></a>
      - *Description*
        - SVG de l'icone LaTAMCeX
    - **> MoodleIcon**<a name="moodleicon"></a>
      - *Description*
        - SVG de l'icone Moodle
    - **> Footer**<a name="footer"></a>
      - *Description*
        - SVG de l'icone Moodle
  - **> Diaporama**
    - *Description*
      - Assure l'affichage des questions des exercices pour vidéo-projection avec ou sans défilement automatique
    - **> ModalActionWithDialog**<a name="modalactiondialog"></a>
      - *Description*
        - **Bouton** pour lancer une action et afficher un message informatif dans un modal
        - *Principe*
          - Le clic sur le bouton diffuse un message capté par le composant parent qui lui est responsable de l'affichage du modal (dialog)
        - Arguments
          - `message: string = 'Default message'` : message à diffuser
          - `messageError: string = 'Default error message'` : message à diffuser en cas d'erreur
          - `dialogId: string = 'dialogbox'` : ID de l'élément de boîte de dialogue
          - `tooltipMessage: string = ''` : message d'aide associé au bouton
          - `buttonSize: string = 'text-2xl'` : taille du bouton
          - `buttonIcon: string = 'bx-link'` : icone associée au bouton (de [boxicons](https://boxicons.com/))
          - `buttonSecondIcon: string = ''` : icone en sur-impression de la première
          - `classForButton: string = ''` : éléments de style de [TailwindCSS](https://tailwindcss.com/docs/installation)
          - `title: string = ''` : titre du bouton (peut être vide...)
    - **> ModalForQRCode**<a name="modalqrcode"></a>
      - *Description*
        - **Bouton** pour afficher un modal permettant d'obtenir un QR-Code de l'URL _courante_
    via copie dans le presse-papier ou téléchargement.
        - *Principe*
          - Repose sur les [modals de DaisyUI](https://daisyui.com/components/modal/)
        - Arguments
          - `imageId: string = 'QRImage'`
          - `dialogId: string = 'dialogQR'`
          - `width: number = 100` : taille du côté du QRCode en pixels
          - `format: number = 0` : nombre décidant du format du QRCode (jpeg, png, webp)
          - `tooltipMessage: string = "My tooltip"` : message d'aide associé au bouton
          - `buttonSize: string = 'text-2xl'` : taille du bouton
          - `buttonIcon: string = 'bx-link'` : icone associée au bouton (de [boxicons](https://boxicons.com/))
          - `buttonSecondIcon: string = ''` : icone en sur-impression de la première
          - `classForButton: string = ''` : éléments de style de [TailwindCSS](https://tailwindcss.com/docs/installation)
          - `urlAddendum: string = ""` : élément à ajouter à l'URL courante pour le QRCode
          - `isShort: boolean = false` : flag pour les URL courtes (au 2023-09-13, utilisation du service [shrtcode](https://shrtco.de/docs))
          - `isEncrypted: boolean = false` : flag pour le brouillage de l'URL associée au QRCode
      - [**> FormRadio**](#formradio)
    - **> FormRadio**<a name="formradio"></a>
      - *Description*
        - Groupe de boutons radio
        - Arguments
          - `title: string` : titre du groupe
          - `valueSelected: string` : valeur sélectionnée dans le groupe
          - `labelsValues: { label: string; value: string; isDisabled?: boolean }[] = []` : taleau des couples label/valeur
          - `isDisabled: boolean = false` : flag pour décider si le groupe est désactivé
          - `orientation: FlexOrientation = 'col'` : pour décider de l'orientation des boutons (`row` ou `col`)
    - **> ButtonToggle**<a name="buttontoggle"></a>
      - *Description*
        - Bouton à bascule (deux états)
        - Arguments
          - `titles: string[] = ['', '']` : titres à afficher lors des deux états
          - `value: boolean = true` : valeur du bouton
          - `isDisabled: boolean = false` : flag pour décider si le bouton est actif ou pas
          - `classAddenda: string = ''` : des élément de style qui vont *s'ajouter* aux éléments déjà présents (voir [TailwindCSS](https://tailwindcss.com/docs/installation))
          - `textSize: string = 'sm'` : taille du texte (toujours **Tailwind**)
          - `buttonSize: string = 'sm'` : taille du bouton (toujours **Tailwind**)
    - [**> NavBarV2**](#navbarv2)
  - **> Latex**
    - *Description*
      - Affichage du code LaTeX d'une série d'exercices ; éléments de réglage pour l'export
    - **> ModalMessageBeforeAction**<a name="modalmsgbeforeaction"></a>
      - *Description*
        - *Bouton* dont le clic affiche un modal contenant un message d'information et un bouton pour déclencher véritablement l'action
        - Arguments
          - `modalId: string = 'my-modal'` : ID du modal (pour recherche pour affichage)
          - `modalButtonId: string = 'ok-btn'` : ID du du bouton dans le modal (celui qui lance l'action)
          - `modalButtonTitle: string = 'OK'` : titre du bouton dans le modal (celui qui lance l'action)
          - `icon: string = 'bx-error'` : icone du bouton affichant le modal
      - [**> Button**](#button-def)
    - **> ButtonOverleaf**
      - *Description*
        - Bouton préparant et déclenchant l'export vers [Overleaf](https://www.overleaf.com/) (formulaire préformatté)
        - Arguments
          - `latex: Latex` : objet contenant les éléments nécessaires à l'export LaTeX (code des exercices)
          - `latexFileInfos: LatexFileInfos` : objet regroupant les éléments de style (titre, etc.)
          - `disabled: boolean` : flag permettant de désactiver le bouton d'export
    - [**> Footer**](#footer)
    - [**> NavBarV2**](#navbarv2)
    - [**> Button**](#button-def)
    - [**> FormRadio**](#formradio)
    - [**> ModalActionWithDialog**](#modalactiondialog)
  - **> Amc**
    - *Description*
      - Affiche un formulaire d'export pour AMC
    - [**> ModalMessageBeforeAction**](#modalmsgbeforeaction)
    - [**> ModalActionWithDialog**](#modalactiondialog)
    - [**> Footer**](#footer)
    - [**> NavBarV2**](#navbarv2)
    - [**> Button**](#button-def)
    - [**> FormRadio**](#formradio)
  - **> Moodle**
    - *Description*
      - Affiche un formulaire d'export pour Moodle
    - [**> Footer**](#footer)
    - [**> NavBarV2**](#navbarv2)
  - **> OutilsProf**
    - *Description*
      - Page spécifique pour la sélection d'outils pour le prof (voir le `referentielProfs.json`) sur le modèle du composant `Start`.
    - **> SideMenuOutils**
      - *Description*
        - Menu de sélection des outils prof
        - Arguments
          - `referentiels: ReferentielForList[] ` : tableau des référentiels à lister
          - `isMenuOpen: boolean` : flag pour ouverture/fermeture du menu
          - `sidebarWidth: number` : largeur du panneau
      - [**> SideMenuList**](#sidemenulist)
    - **> ButtonSvg**
      - *Description*
        - Wrapper pour un bouton utilisant une icone SVG
      - Argument
        - `isDisabled: boolean = false` : flag pour activation du bouton
        - `classDeclaration: string = 'w-4 h-4 ...'` : éléments de style utilisant [TailwindCSS](https://tailwindcss.com/docs/installation)
        - `idLabel: string = getUniqueStringBasedOnTimeStamp('btn-')` : ID pour le bouton (unique)
      - [**> LatexIcon**](#latexicon)
    - [**> Exercice**](#exercice)
    - [**> Footer**](#footer)
    - [**> NavBarV2**](#navbarv2)
    - [**> Button**](#button-def)
    - [**> ButtonsDeck**](#buttonsdeck)
    - [**> MoodleIcon**](#moodleicon)
    - [**> AmcIcon**](#amcicon)
  - **> Capitale**
    - *Description*
      - Page dédiée à la sélection des exercices pour le module intégré à Capytale
    - **> NavBarIframe**
      - *Description*
        - Barre de navigation dédiée pour les iframes
    - **> InputText**
      - *Description*
        - Champ de saisie texte
        - Arguments
          - `title: string = 'Title'` : titre du champ
          - `placeholder: string = 'Your text here'` : texte pré-écrit dans le champ
          - `showTitle: boolean = true` : flag pour afficher le titre du champ ou pas
          - `value: string = ''` : valeur du champ
          - `isDisabled: boolean = false` : flag pour désactiver/activer le champ
          - `inputID: string = 'input-text'` : ID pour repérer le champ
          - `classAddenda: string = ''` : ajout d'éléments stylistiques basés sur [TailwindCSS](https://tailwindcss.com/docs/installation)
    - **> ModalSettingsCapytale**
      - *Description*
        - Wrapper autour d'un élément de dialogue (modal) comportant un titre, un contenu et des boutons
    - **> BreadcrumbHeader**
      - *Description*
        - Affiche un chemin en détaillant les étapes séparées par des chevrons
        - Argument
          - `path: string[] = []` : liste des étapes dans le chemin
    - **> ImageCard**
      - *Description*
        - Carte comprenant une image, un titre et un texte de présentation ainsi qu'une icone de sélection et un bouton d'ajout
        - Arguments
          - `exercise: bibliothequeExercise` : objet comprenant l'uuid, le texte de présentation, les chemins pour l'image de l'exercice et de sa correction
          - `reversed: boolean = false` : flag pour décider sir l'image est auddesus ou au dessous du texte
          - `selected: boolean = false` : flag indiquant si l'exercice de la carte est sélectionné ou pas
      - **> StarIcon**<a name="staricon"></a>
        - *Description*
          - SVG d'une étoile à plusieurs branches
    - **> ModalGridOfCards**
      - *Description*
        - Fenêtre de dialogue assurant l'affichage d'une grille (pour cartes)
        - Arguments
          - `displayModal` : flag pour décider d'afficher le modal
          - `closeModal` : fonction déclenchant la fermeture de la fenêtre de dialogue
    - **> Card**
      - *Description*
        - Carte comprenant une image, un titre et un texte de présentation ainsi qu'une icone de sélection et un bouton d'ajout
        - Arguments
          - `application` : objet comprenant l'uuid, le texte de présentation, le chemin pour une image d'illustration de l'application
          - `reversed: boolean = false` : flag pour décider sir l'image est auddesus ou au dessous du texte
          - `selected: boolean = false` : flag indiquant si l'exercice de la carte est sélectionné ou pas
      - **> StarIcon**<a name="staricon"></a>
        - *Description*
          - SVG d'une étoile à plusieurs branches
    - [**> Exercice**](#exercice)
    - [**> Footer**](#footer)
    - [**> NavBarV2**](#navbarv2)
    - [**> Button**](#button-def)
    - [**> ButtonsDeck**](#buttonsdeck)
    - [**> ButtonToggle**](#buttontoggle)
    - [**> FormRadio**](#formradio)
  - **> Can**
    - *Description*
      - Page pour afficher le détail des éléments d'un diaporama (les différentes séries de questions avec leurs solutions).
    - **> BtnZoom**<a name="btnzoom"></a>
      - *Description*
        - Paire de boutons permettant de manipuler le facteur de zoom global
        - Arguments
          - `size: 'xs' | 'sm' | 'md' | 'lg' | 'bx-sm md:bx-md' = 'sm'` : taille des boutons (voir [boxicons](https://boxicons.com/))
          - `isBorderTransparent: boolean = false` : flag pour retirer la bordure des boutons
    - [**> Exercice**](#exercice)
  - **> Eleve**<a name="vue-eleve"></a>
    - *Description*
      - Page dédiée à l'affichage d'une série d'exercice pour les élèves (sans les éléments de sélection)
    - **> Footer2**
      - *Description*
        - Pied de page simplifié
    - [**> Exercice**](#exercice)
    - [**> Button**](#button-def)
    - [**> ButtonToggle**](#buttontoggle)
    - [**> BtnZoom**](#btnzoom)
  - **> ConfigEleve**
    - *Description*
      - Page dédiée à la configuration de la feuille élèves regroupant les différents éléments de réglage
    - [**> Footer**](#footer)
    - [**> NavBarV2**](#navbarv2)
    - [**> Button**](#button-def)
    - [**> ButtonToggle**](#buttontoggle)
    - [**> FormRadio**](#formradio)
    - [**> ModalActionWithDialog**](#modalactiondialog)
    - [**> ModalForQRCode**](#modalqrcode)